<!DOCTYPE html>
<head>
    {% load static %}

     <!-- Import bootstrap 4 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Import full version of JQuerry for ajax-->
    <script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
    
    <link rel="stylesheet" type="text/css" href="{% static 'polls/style.css' %}">
    <title>{% block title %}Polls Website{% endblock %}</title>
</head>
<body>
    
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <span class="navbar-brand">Polls</span>

        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="{% url 'polls:index' %}">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'admin:index' %}">Admin</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'polls:about' %}">About</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          {% if user.is_authenticated %}
        
        <li class="nav-item">
          <a class="nav-link" href="/accounts/logout">Logout</a>
        </li>
        
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="/accounts/signup">Register</a>
      </li>
        <li class="nav-item">
            <a class="nav-link" href="/accounts/login">Login</a>
        </li>
        {% endif %}
      </ul>
    </nav>

    {% block content %} {% endblock %}


    <!-- Footer -->
<footer class="page-footer font-small unique-color-dark">

  

  <!-- Footer Links -->
  <div class="container text-center text-md-left mt-5">

    <!-- Grid row -->
    <div class="row mt-3">

      
      <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">

        
        <h6 class="text-uppercase font-weight-bold">Number Of Polls</h6>
        <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
        <h1 id="numberofpolls">
        </h1>

      </div>
      

      
      <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">

        <!-- Links -->
        <h6 class="text-uppercase font-weight-bold">Total Votes</h6>
        <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
        <h1 id="numberofvotes"></h1>

      </div>
      

      
      <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">

        <!-- Links -->
        <h6 class="text-uppercase font-weight-bold">Useful Pages</h6>
        <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
        <p>
          <a href="{% url 'polls:index' %}">Home</a>
        </p>
        <p>
          <a href="{% url 'polls:about' %}">About</a>
        </p>
        
        

      </div>
    </div>
  </div>
  
  <div class="footer-copyright text-center py-3">Â© 2022 Copyright: <a href="https://www.swingit.be/">SwingIT</a>
  </div>

</footer>
<script>
  $.ajax({
    type: 'GET',
    url: 'https://sorenmacharis.eu.pythonanywhere.com/numberofpolls',
    dataType: 'text',
    success: function(res){
              //answer of api call.
              $("#numberofpolls").html(res);
            },
    error: function(error) {
        $("#numberofpolls").html("0");
    }
});

$.ajax({
    type: 'GET',
    url: 'https://sorenmacharis.eu.pythonanywhere.com/numberofvotes',
    dataType: 'text',
    success: function(res){
              //answer of api call.
              $("#numberofvotes").html(res);
            },
    error: function(error) {
        $("#numberofvotes").html("0");
    }
});

</script>

</body>
</html>